descendant::book[starts-with(translate(title, 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz'), 'x')]//ancestor-or-self::library[position() < last()]
